Steem SSE manual
=================

v3.9.4


About Steem SSE
_________________

Steem SSE is the further development of Steem, a legendary Atari STE emulator
developed by Anthony & Russell Hayward.
Steem SSE also emulates the Atari STF (or ST).


About the manual
_________________

This manual is based on the original readme.txt included with Steem.
It's been updated to reflect all modifications ('mods') introduced
with Steem SSE.


Licence
________

Steem is free open source software.
Its licence is GPL3 as chosen by Steem authors.


Where to find Steem?
_____________________

Steem SSE may be downloaded from various places.

The official sites are:

http://ataristeven.exxoshost.co.uk/Steem.htm
(presentation website, with games and more to download)

http://sourceforge.net/projects/steemsse/files
(code and builds hosting)


Builds
________

The main build is the 'Win32.D3D' one. It should run in all versions of
Windows from XP on.

Your computer must have an up-to-date DirectX 9 installation. Unfortunately,
Microsoft makes a point of not distributing full installations with Windows,
so you may have to update your installation. 

Other builds are available.

Unsurprisingly, 'Win64' means a Windows 64bit build.

DD means that DirectDraw is used instead of Direct3D (D3D).

The 'Debug' build features the "Boiler", a very powerful debugger included
with the emulator.


3rd party
__________

Steem works with various other programs or libraries:

-ArchiveAccess.dll
http://sourceforge.net/projects/archiveaccess/

-CAPSImg.dll 
http://www.kryoflux.com/

-D3DX9_43.dll (D3D)
http://www.microsoft.com/en-us/download/details.aspx?id=8109

-Drive image
http://atari.8bitchip.info/drimus.php 

-FreeImage.dll (DD)
http://freeimage.sourceforge.net/download.html
If it's not up-to-date, it will not work well with recent versions of
Steem SSE.

-msa.exe
http://msaconverter.free.fr/

-pasti.dll
http://pasti.fxatari.com/

-unrar.dll 
http://www.rarlab.com/rar_add.htm

You may download them from here too:

http://ataristeven.exxoshost.co.uk/Other_downloads.htm


The 64bit build of Steem SSE can use only 64bit DLL libraries.

Steem uses additional data files, that are included in the main 
download:

-Folder DriveSound with some samples

-Folder PRG to help PRG/TOS support

-HD6301V1ST.img (the keyboard chip rom, necessary for option 'C1')

-HFE_boot.bin (a file that helps Steem create HFE disk images)

-ym2149_fixed_vol.bin (the P.S.G. soundchip table by ljbk)

They should be copied into Steem's folder.


Getting started
________________

To use Steem, you need a copy of an Atari ROM, called "TOS", and image disk
files. When you first launch Steem, you must point to one, and you can change
that later.
One important point is to match ST model and TOS (see further),
for example STF - TOS 1.02, STE - TOS 1.62.

Use the disk manager or a shortcut to select the disk image, there are
various ways to start emulation.

You will find some TOS on the Steem SSE site:

http://ataristeven.exxoshost.co.uk/Other_downloads.htm

Disk images are easy to find. For example:
http://planetemu.net/index.php?section=menus&machine=34 
http://www.atarimania.com/

Some are also available at http://ataristeven.exxoshost.co.uk.

Legally this is all still copyrighted material, and if they really wanted,
companies that own it could call a halt on emulation, but they don't.


Icons
______

On the toolbar you find some icons; from left to right:

1st group on the left

'Play'
'Fast forward'
'Reset'
'Memory snaphot'
'Screenshot'
'Paste'
'Configuration files'

2nd group on the right
'Info'
'Patches'
'Shortcuts'
'Options'
'Joysticks'
'Disk manager'

Some words of explanation are given for each icon.


'Play'
------

You start/stop emulation by using the play button or function key F12.

If you right click on 'Play', you advance in slow motion. The speed can
be set in Options/General.
The minimal speed is handy to check how many VBLs those bad games need
to draw the screen.

When emulation starts, the mouse cursor is grabbed by Steem. You may
change this (tricky) behaviour in the SSE options. 
To free/grab the mouse, press the 'Break' key. 
If you press 'Pause' (shift + 'Break'), emulation is stopped and the mouse
is freed. You may assign other shortcuts to control Steem.


'Fast forward'
--------------

Use this to skip boring intros but don't expect accurate emulation.
Right clicking on this also activates the 'lightsearch' (check if there is 
some picture hidden by colour definitions).


'Reset'
-------

A left click on the reset button emulates the reset button of the ST
("warm reset") - you know, the button that doesn't exist on the Amiga?
Notice that many demos were programmed to react on warm reset (hidden screen
and such). 
A right click emulates switching off, waiting as long as necessary for
the RAM chips to clear, switching on again, except it's instant (don't think
we'll get requests for precise delay).
Keyboard shortcuts may be assigned to warm or cold reset as well.


'Memory snaphot'
----------------

The camera and chip button on the Steem toolbar brings up a menu from which 
you can load and save memory snapshots. Save snapshot will save out the current
state of the ST (not just RAM) to a file. 
This can be useful for games without save facilities. 
When you load a snapshot it will change your TOS version, monitor type, memory 
size and the current disks in the drives. The last ten snapshots that
have been used appear also on this menu so you can quickly reload them. 
There is also an option to undo the last snapshot load or reset in case you 
did it by mistake.   


'Screenshot'
------------

Use the right mouse button to choose your options and the left one to record
a screenshot.

The D3D builds of Steem can natively save a screenshot as a BMP, JPG, PNG or
NEO file.
The DD builds of Steem can natively save in BMP or NEO format, but with
the freeimage.dll plugin, more formats and options are available.

PNG is the recommended format because it is both small and lossless. 
Notice that JPG is a lossy format, only appropriate for a very colourful
screen.
NEO is the format used by Neochrome on the ST. It is only appropriate when
there is no overscan.

It is also possible to save multiple screenshots in a row using a shortcut.

Alternatively, you can copy the full window into the paperclip using the 
usual Alt-PrtScr combination.


'Paste'
-------

This button allows you to quickly and easily paste text from Windows into the 
ST. Just click on the button and Steem will type in the text at incredible 
speed. Some programs may struggle with the top speed, to slow it down right 
click on the button and choose a longer delay. 


'Configuration files'
---------------------

It is possible to load or save configuration files in Steem.
This includes all your current options and joystick settings.
Loading a configuration file resets the ST.
Carefully edited, those ini files could be publicly used to help people
run programs.


'Info'
------

The blue 'i' icon opens an info box that displays this very manual
and other useful documentation (release blurb, FAQ, hints...).


'Patches'
---------

Patches change the memory of the ST after a program has been loaded to
change its behaviour.
This is useful to go around a bug or a protection, cheat in some game,
etc.
You may create your own patches with a text editor.


'Shortcuts'
-----------

You can assign key combinations (up to 3 keys each) to either some Steem
control (start/stop, fullscreen, etc.) or some Atari ST key.
Not only keys are taken but also mouse and joystick actions.
You can load and save as many key sets as you wish, and use several
of them at the same time.
To avoid overwriting your changes, it's advised to name your own sets
rather than edit the 'Default' set.


'Options'
---------

The icon makes the extensive options dialog of Steem (see below) appear
or disappear.


'Joysticks'
-----------

You can assign keys or real (PC) joysticks to ST joystick ports 0 and 1
and to STE joysticks, and even to parallel port joysticks.
STE paddles are not emulated. 
Steem handles analog as well as digital PC joysticks.
Three setups may be recorded.
For 'up' you have 2 boxes, so you can map a joystick button as in arcade
games, in addition to the joystick movement. Unfortunately, ST joysticks
only used one button.
There's also a mouse speed dial.


'Disk manager'
--------------

The icon toggle Steem's disk manager (see below).


Status info
_____________

On the icon bar, some useful information is also given so that you have an
instant idea of the current configuration.

Status info includes ST model, TOS version, RAM quantity and some
icons for "slow disk drive", "hard disk drive", "chipset 1" (6301, etc.),
"chipset 2" (MFP), when those are selected.

See further for how to (de)activate all those options, some are advanced.

In addition:
 V       'Vertical Sync'
 MHZ      CPU speed is indicated if higher than 8MHZ

Instead of all this info, the status bar may contain only...

 HALT

In some conditions, the ST processor could 'halt', that is stop operating.
It means the program it was running crashed, and it's not possible to
recover from this situation. 
This may be an emulation bug or not (bad disk image, buggy ST program, etc.)
The ST must be reset. On the ST you would press the reset button 
(left click on the icon), or in very bad cases, switch off
and, after a while, on to erase the memory (right click on the icon - in 
Steem we crash joyously: you mustn't wait).

 BLIT ERROR

Serious problem with video rendering.
In some cases Steem can recover, in others you have to leave or even use the
task manager to kill Steem.

 HD6301 CRASHED

There was some serious problem with the keyboard controller (6301). It will do
that for example if a mouse or joystick button is pressed during a reset.


Options
________

Steem is a very complete emulator and there are really many options,
spread between several pages or tabs.
All are explained here, tab by tab.
Advanced options can be changed only when the 'Advanced Settings' box has been
checked on the SSE page.
      
 
Machine
--------   
   
These options configure the hardware inside the virtual ST.

-ST Model
   
This is the long awaited STF/STE switch in Steem (an 'SSE' improvement).
The STE was the better computer but most programs were coded with the older
STF in mind. 
Emulating the differences between STF and STE is not so hard and makes a lot
more programs run in Steem.
You can change this option during emulation but at your risk (ST crash 
possible).
The Mega ST4 is like a STF with a blitter. When you choose it, Steem supposes
you want the monochrome screen and GEMDOS hard disk emulation.

The emulator will try to match a default compatible TOS when you change the
option: 1.02 for STF, 1.04 for Mega ST4, 1.62 for STE.
It will also allocate 1MB of RAM for the STF and 4MB for the STE and the 
Mega ST4.
You can change that at will.

Steem also emulates STF models equiped with a hardware overscan circuit, 
either Lacescan or Autoswitch. You need appropriate drivers.

http://ataristeven.exxoshost.co.uk/Steem_apps.htm#Overscan
     
  
-Wake-up (advanced)

This is a very technical point, related to latency between some 
electronic chips. 
Normally you'll use this option only if the display of some demo isn't 
correct without (see Hints). 

               +-----------------------------------------+
               |              Wake-up concepts           |
               |                                         |
               +---------------+------------+------------+
               |   DL Latency  |     WU     |      WS    |
               |     (Dio)     |    (ijor)  |    (LJBK)  |
               +---------------+------------+------------+
               |      3        |   2 (warm) |      2     |
               |      4        |   2 (warm) |      4     |
               |      5        |   1 (cold) |      3     |
               |      6        |   1 (cold) |      1     |
               +---------------+------------+------------+

DL is a latency electronically measured by Dio (atari-forum) between two
signals, 'DE' and 'LOAD', in cycles.
It is determined somewhat randomly (depending on temperature for example!)
at power-on on a true ST. 
WU are the two wake-up states first found by ijor.
WS are the more detailed "wake states" found by LJBK.
They're in that strange order for "historical" reasons.

On the STE, the chips responsible for 'DE' and 'LOAD' were merged so
that only WS1 makes sense.
If you select STE WU2, Steem will emulate the pixel shift that can often
be observed on Spectrum 512 pictures. It is not a GLU state but a Shifter one. 
So even if you choose WU2 for the STE, it is still in WS1 for the GLU.
On the other hand, there's no such pixel emulation in STF mode.
I know it is complicated, it is like this to avoid placing yet another option. 

The "Forest" demo by LJBK will recognise STF WU1-2 and STE.
The "Bee" demos by LJBK will recognise WS1-4, and the demos will behave as
expected in all WS (sync scrolling).
Demo Closure by SYNC should work as STF (WS1-4) and STE (WS1).

Needless to say, Steem SSE is leading the way for this issue.


-ST CPU speed (advanced)

This option can boost the speed of the emulated ST, to improve those 
painfully slow games that were released. 
The ST's CPU ran at 8 megahertz but here you can whack it up to get things 
going faster. A couple of points: setting the CPU speed above 8MHz will cause
the emulator to run _slower_, because it has more processing to do for each 
screen displayed. It will also cause many ST programs to crash/not work
properly, because they rely on the processor running at the correct speed. 
When we reach 128Mhz, we may lose MFP emulation cycle accuracy
and everything relying on timers will start acting weird.


-Memory size

Here you can select how much memory will be available in the virtual ST. Please
note that 14MB wasn't supported on the ST range of computers without special 
hacks, so not everything will work with that option selected. Also 4MB or 
greater does not work with TOS 1.00. The most compatible choice is generally
1MB for STF, 4MB for STE.
12MB includes 8MB of alt-RAM as on the MonSTer board. A driver and an 
appropriate TOS (eg 2.06) are necessary to use that RAM.


-Monitor type

Can be "Colour" (for ST low and medium resolutions) or "Monochrome" (for ST 
high resolution). 

It was an important choice on the ST, because only the appropriate monitor
could display such or such resolution. Like the ST, Steem runs in one or the
other mode. You can't change monitor type on the fly.

Also available are extended monitors; these are larger screens than a 
standard ST could manage but are achieved by some tinkering with the ST 
operating system. The only programs that have any chance of working with 
extended monitors are GEM applications (windows/menu bars), all other programs 
will crash or make a mess of the screen (there is nothing that can be done 
about that). Most GEM apps will fail too, but some will work and allow you to 
fit more on the screen than anyone could ever need! NOTE: Extended monitors 
only work with TOS versions above 1.02, also if you use a 4 plane resolution 
(e.g. 800x600x4) the ST can get very confused if it tries to change to medium 
resolution, so try to avoid it. You have to do a cold reset of the ST before 
any changes to this option take effect.


-Keyboard

Here you can configure the keyboard. This is an area that many people have 
problems with because most non-English PC keyboards are vastly different from 
their ST counterparts. The important thing is that your PC keyboard language, 
TOS language and ST keyboard language all match, that gives you a chance of 
having the right characters appear for the right keys. If keyboard language 
is set to certain languages then the "Shift and alternate correction" option 
will become available. When checked this makes Steem do its best to get round 
the differences between ST and PC keyboard layouts by fooling the ST into 
thinking you are pressing keys you aren't. This works well for GEM programs 
but it could cause problems for games and any other program that reads the 
keyboard directly. If you can't get the keyboard to work properly then the 
only option is to manually remap the keys using shortcuts (see below).


-Cartridge (advanced)

Steem can emulate ROM cartridges using cartridge images, here you can choose 
to insert one. For details how to make a cartridge image see the "cart image 
howto.txt" file that comes with Steem.
'Swtich off' makes the cartridge transparent (or crashes Steem if I forgot a
bug).
'Freeze' emulates the freeze button of the Multiface and Ultimate Ripper 
cartridges. For the latter, you need to select the appropriate Port connexion.
If you insert the (custom) MV16 cartridge image, Steem will play the samples
in the original B.A.T. 
  
  
TOS
----   
   
TOS is the ST equivalent of DOS on the PC. 
It stands for 'The Operating System'.

Including the BIOS, the GEM graphic environment and other layers, the full OS,
except on very early models (also emulated), was printed on a ROM chip. You 
need an image of one of those roms to use Steem.

Generally, TOS 1.02 is the most compatible for STF mode, although TOS 1.04 may
be preferred for hard disk emulation; and TOS 1.62 for STE mode. 
Steem will try to match those TOS when you switch ST model.
Some rare programs prefer another version (check Hints file).
People report troubles with TOS 2.X, but before debugging we really must be 
sure it wouldn't do the same on real hardware. 
Steem doesn't try to emulate the Mega STE (yet).

 TOS1.00 STF
 TOS1.02 STF
 TOS1.04 STF
 TOS1.06 STE
 TOS1.62 STE
 TOS2.05 Mega STE
 TOS2.06 Mega STF/STE
 TOS3.0X TT
 TOS4.0X Falcon

US TOS versions 
Using a United States TOS causes games to be run in the NTSC screen mode 
(60Hz). This is okay emulation-wise but a lot of ST games and demos do not 
work in this screen mode, and often just crash or act oddly rather than 
telling you why. We recommend that American users of Steem use UK TOSs for 
games and demos, the only time a US version is required is for word 
processing, due to tiny differences between the US and UK keyboards. 

TOS 1.06 and 1.62 UK
Watch out, before Steem came along most copies of these TOSs were corrupt 
(because no emulator could test them properly). If you have problems with 
this version try downloading a new copy.

TOS 1.00
Is really bad, try to avoid using it unless a game insists on it (some really 
old ones do).

Language
Some localised version of the TOS may be necessary for some programs.
If you have some trouble with a program, you may give it a try.

EmuTOS
EmuTOS is a GEMDOS compatible operating system for Atari ST series computers. 
It is made from Digital Research's GPLed original sources and is a free and 
open source replacement for common TOS images for Atari ST emulators.

 References:

 http://en.wikipedia.org/wiki/Atari_TOS

 Images:

 http://www.avtandil.narod.ru/tose.html 
 http://ataristeven.exxoshost.co.uk/Other_downloads.htm 
 http://sourceforge.net/projects/emutos/
  
  
Ports
------   
   
This page configures the emulated ST's link to outside hardware. There is a 
section for each port on the ST, MIDI, parallel and serial, as well as a 
section for dongles (Special adapters). To set up a port 
select one of the options from the box next to "Connect To". When you do the 
section will fill up with options related to the connection you chose.
 

-MIDI Device

When you select this you must then select the PC MIDI device you want the 
ST's messages to be sent to and the PC MIDI device you want to be able to 
send data to the ST. 


-Parallel Port (LPT)

This allows you to connect an ST port to one of your PC's parallel ports. The 
only option is to choose which one. Warning: This may not work on all 
versions of Windows. See the FAQ for information on printing from Steem.


-COM Port

By selecting this option you can connect an ST port to one of your PC's COM 
ports. Again, just select the required port. Warning: This may not work on 
all versions of Windows.


-File

Using this option you can send all output from an ST port to a file. Click on 
the "Change File" button to open the file selector where you can select the 
output file (you can create a new one by typing in a new name and clicking 
"Open"). The "Reset Current File" button will delete everything that is 
currently in the file.
You can't use a file for input.


-Loopback (Output->Input)

Selecting this will cause anything that is sent to the port to be then 
received by the port, what use that is I really don't know!

-Special adapters

Some (simple) dongles are emulated. You can select one in the Ports page.
For joystick port dongles, option C1 is required.
This option also covers some other adapters:
-Pro Sound Designer: soundcard used by Wings of Death and Lethal Xcess.
-Switches for Ultimate Ripper Cartridge and Multiface ST.
     
  
MIDI
-----   
   
Here are some options that affect the PC side of Steem's MIDI emulation.
Remember that the ST side is also affected by SSE option C1.


-Volume

Not that useful but here nevertheless. It won't work for all devices.


-Allow running status for output/input

Normal MIDI messages are made up of one status byte that describes the 
message and then one or two data bytes. If a program wants to send the same
message again it can leave off the status byte and just send the data. By 
default Steem doesn't allow this and adds the status byte itself if it has 
been omitted, but this could cause problems to programs that require a very 
high transfer rate. 
These options mean that running status will be passed on to Windows which has 
to decide what to do with it, so if you are having problems with MIDI tempo 
you can try this.


-System Exclusive Buffers

The number of system exclusive buffers affect MIDI when it is 
sending/receiving many small system exclusive messages quickly. If the number 
of buffers is too small it is possible for there to be so little time between 
messages that Steem is still busy with all the buffers when a new sysex 
message arrives (and therefore part of it gets lost). If you find some MIDI 
program having input or output problems that sound like this it's worth a try 
increasing the number of buffers, something like 6 should do the job for 
almost anything. The size of the buffers allows you to choose the maximum 
length of message Steem can send or receive. This is important if you are 
transferring large memory banks from the device to the ST and vice-versa. 


-Input speed

This option allows you to slow down the speed Steem feeds any received data 
from the MIDI device to the ST. Due to restrictions of Windows Steem sends 
all data as fast as possible to the ST regardless of the speed it was 
actually sent by the device, but some ST programs can't handle that. If you 
have problems with receiving bank dumps it might be an idea if you slow this 
down a bit. Also related to this is the shortcut action "Pause until next 
SysEx", this can get round time-outs on ST programs waiting for a bank dump 
to start. See the shortcuts section for details of how to assign this action 
to a key/combination of keys.

  
Record Input
--------------
   
This is a handy feature that will allow you to record sequences of input in 
to the ST and play them back later. At the top there is a display of your 
macro folder: each macro is stored in a file with the extension stmac, and 
they are displayed here (if you have any). To record a macro, first click 
on "New Macro", name it something snazzy and then click on the big red record
button. 
Now go to the main Steem window, start emulation and do some sort of input 
(move the mouse, press a key, move a joystick). When you have recorded what 
you want to go back to the macro display and click on the record button again 
to turn it off. Don't worry about doing this too quickly, Steem doesn't start 
recording until some input is received and it will cut off any time on the 
end that doesn't have any input. Now you can replay the actions you recorded 
by pressing the green play button (next to the record button). 

You can have as many macro files as space on your hard drive will allow. 
This might mean they get a bit difficult to find on the list, so you can 
organise them into folders using the macro folder display. Just right click
to create a new folder and drag appropriate macros in there. You can also 
right click on the bold "Macros" folder and choose to open it in Windows 
explorer if you prefer to use that for your organising.

 There are 2 options that affect how macros work:

-Maximum mouse speed

This affects recording and playing macros. Some ST programs won't accept 
really fast mouse movements as ST mice couldn't generally move very far in a 
short time. This option lets you allow for this problem by configuring the 
maximum speed for each macro individually.


-Playback event delay

For most macros you will want your actions to be played back as quickly as 
possible (for instance in the case of clicking on a shoot button in a game). 
This option allows you to configure how long Steem will wait between input 
changes, as some programs won't accept lots of very quick inputs. If speed 
isn't an issue then you can always set this to "As Recorded", then playing 
the macro will replay the recorded events at the speed you recorded them at.

  
General
--------   
   
-Run speed (advanced)

Sometimes you will find a game/program that isn't significantly affected by 
changing CPU speed, it is still too slow. In that case you can use this 
option to change the speed Steem runs and make sure a program speeds up (or 
even slows down if you want). The disadvantage is that sound doesn't work 
above 105% or below 80%.


-Slow motion speed

This option determines how fast Steem will run when you have slow motion 
turned on (right-click on the play button).


-Maximum fast forward speed

Using this option you can limit Steem's speed, fastest isn't always best (you 
can find you have zipped through the bit you wanted to see).


-Show pop-up hints

This little option toggles those pop-up hints on and off, now you've read the 
readme you don't really need them.


-Make Steem high priority

When this option is ticked Steem will get first use of the CPU ahead of other 
applications. This means Steem will still run smoothly even if you start 
doing something in another window at the same time, but everything else will 
run slower.


-Pause emulation when inactive

When this option is checked Steem will pause emulation when you switch to 
another program. Steem uses a lot of PC CPU time when running which slows all 
other programs down, if you are switching between programs regularly you may 
want to use this option.


-Mute sound when inactive


-Disable system keys when running

This option allows you to send certain key combinations that are used by 
Windows to the ST instead. When it is checked Alt+Tab, Ctrl+Esc and 
Ctrl+Alt+Delete will go to the ST instead of to the PC. Although Steem is 
very stable this option could cause a bit of a disaster if Steem stops
responding for any reason, you won't be able to shut it down with 
Ctrl+Alt+Delete, so for safety reasons it is best only to use this option 
when you really need it. 
Unfortunately this option doesn't always work in fullscreen mode. Depending
on your version of Windows, it may not be possible to capture certain key 
combinations - you can use shortcuts (see below) to trigger the keys you want 
from other keys. 


-Automatic fast forward on disk access

Sometimes disk access can be really slow, so this option makes Steem always 
fast forward when the ST is doing it. There are some programs that continue 
while accessing the disk, if you are going to use one of them then you should 
turn this off.


-Start emulation on mouse click

When checked clicking on Steem's main window will start emulation.
           
  
Sound
------   

-Sound Driver

This lets you configure which DirectSound driver Steem will use, Default is 
usually the best option.

   
-Output type

This can be "None" to make no sound at all or one of the other options to
choose the filter applied (or no filter).
'Coaxial' and 'SCART' are the connections between the ST and respectively a
TV or a monitor. Coaxial is the original Steem filter.
'Hatari' was lifted from that emulator. It's only the low-pass filter for PSG
sound , not all sound emulation (so Steem's and Hatari's are still different).


-Sampled YM-2149 (advanced)

This option changes the tables used for emulation of the YM-2149 soundchip.
When it's checked, Steem uses a big table made up by ljbk based on 
measurements on an actual STF (the provided ym2149_fixed_vol.bin file must
be in Steem's directory).
Thanks to this accuracy of PSG emulation is much improved.
It is also louder and many tunes now sound distorted, but that's like on
a ST. If you uncheck the option we fall back on Steem 3.2's softer sound.
"STF samples" are kind of noisy anyway, but they are on real hardware too.
There currently are 2 limitations:
1) The table only has values for fixed volumes, that were coded on 4bit.
Enveloped sound was coded on 5bit, so other values are interpolated on the 
fly. The envelope is in fact rarely used.
2) The sound of the PSG is reported to be different, relatively softer on the
STE, but we only have one table, for STF.


-Low-level YM2149 (advanced)

This activates an alternative, lower level YM2149 emulation inspired by 
MAME (thx Couriersud).

  
-Microwire (advanced)
   
Unfortunately, emulation of the ultra-cheap Microwire tone controller is
still rather primitive. To avoid clicks, volume changes are slowed down.


-Keyboard click
   
It was often requested and is available in Steem SSE, of course. 
It would be most useful for playing the Pasti version of The Pawn, 
for example. 


-Device

These options allow you to tweak the sound output, firstly volume. 
Next is frequency.
If your soundcard isn't able to deliver one of the higher rates, Steem will
settle for the maximum available.
It makes a difference in some cases where the emulated PSG vibrates faster 
than 22Khz. It does happen, as the max frequency is 125Khz! It can cause 
horrible aliasing. However, Steem includes an anti-aliasing filter.
Note that 56Khz is precisely 56066 (the maximum, and rarely used) rate for
STE sound, 25Khz is precisely 25033 and 22Khz is 22050.
The next option is format. We highly recommend 16bit stereo.
Then there is Write to primary buffer, some sound cards seem to perform 
very badly with Steem's standard output, try checking this if it doesn't 
sound perfect. Next is timing and delay, these options were added in a 
desperate attempt to improve output on some sound cards, if you are having 
problems fiddle and see if they make any difference.
Remember the sound device is chosen on the startup page.


-Drive sound

Yes! This is in Steem too now.
Current samples are from an Epson SMD-480L, sampled by Stefan jL.


-Record

These options allow you to record Steem's output to a wav file. Clicking on 
the red button begins recording, clicking on it again (or stopping emulation) 
will end recording. You can choose the name and location of the wav file to 
output by clicking on choose.

Steem SSE can also save a YM file. This is usable by STSound and other utilities. 
The file is uncompressed.
    
      
Display
--------   

-Borders

Here you can choose whether you want to see the ST borders, and which size.
Some games (and quite a lot of demos) use a technique called "overscan" to 
display graphics in the borders, that's one reason you might want to see them.
The border option affects DirectDraw fullscreen mode: with borders on, 
Steem displays fullscreen in the 800x600 screen resolution.

Steem SSE offers no less than 3 modes:

 384 x 270      normal, original Steem
 413 x 275      max overscan (window only, in fullscreen it will be 416)
 416 x 283      max plasma + LaceScan overscan (50hz)

(low resolution; it is 768 x 270, 826 x 275, 832 x 283 for medium)

Why various sizes, while other emulators only offer one? 
There are many reasons:
- Bigger display sizes use various tricks and hacks and it's always 
"dangerous", so we keep the original size available. Palette change timings
were especially trouble during development.
- There's a performance hit for larger displays.
- Not all monitors display the full border, in particular LCD screens
  or the original Atari monitors would typically display the same borders
  as Steem in 384x270 mode.
- Normal size may be merciful when the program displays trash in the
  border, typically because the programmer couldn't see it.
- Only the normal border makes sense for monochrome emulation.
- Most programs, including games, don't use the border at all.
   

-Frameskip (advanced)

This is a very useful option for slower processors. Drawing the screen takes 
quite a bit of PC CPU time so skipping frames is a very effective way to 
speed things up to the same speed as a real STE. Auto frameskip makes Steem 
skip up to 8 frames dependant on how fast it is running. 

  
-VSync (advanced)
  
This version of 'vertical synchronisation' also works in windowed mode. 
Your monitor needs a compatible refresh rate, or emulation speed is adjusted.
With the right monitor, emulation of many programs is about perfect on the
video side. Games like Goldrunner, Lethal Xcess, Xenon, etc. and demo 
scrollers won't look much smoother on a real ST.
Unfortunately, most ST programs run at 50hz, while most LCD screens use 60hz. 
This is exactly the same problem in fullscreen mode.


-ST Aspect Ratio

The typical ST screen's picture was vertically stretched.


-Scanlines

Option 'Scanlines' makes Steem skip every other line; this is quicker than 
"No Stretch" but looks pretty ugly to some people. 
To others, it may be part of the emulation.


-Crisp
This changes the drawing method in both windowed and fullscreen modes.
If it's checked, the image, depending on your video card, will be blurry,
which may look better in some circumstances.
This option isn't available if Advanced Settings are enabled.


-Triple Buffering (DirectDraw build) (advanced)
   
This may be useful to eliminate "tearing" or "ghosting", at the price 
of higher CPU use in windowed mode.
Compositing, a feature introduced in Windows Vista and enforced (can't 
disable) in  Windows 8, could interfere with this.
Compositing does its own Triple Buffering, without CPU use penalty.


-Lock window size (advanced)

When it's checked you can't change the size of the window by dragging the
borders so that you won't be able to sabotage Steem's nice display. 


-Lock aspect ratio (advanced)

With this you may drag all you want, but the window should keep more or less
the same proportions (to spare code, it's not perfect).
If it isn't checked, you're free to change the aspect ratio of the emulated
screen (also see SSE option 'PAL Aspect Ratio').


-Window size (advanced)

These options allow you to configure exactly the size of Steem's window in 
the various ST resolutions. First is the option of whether Steem should 
automatically resize its window when the ST resolution changes or when 
borders turn on or off. Below that you can set the sizes that Steem should 
use. With some sizes you have the choice between "Stretch" and "No Stretch".

"Stretch" makes Steem use the video card to convert the image from the ST 
output size to the size of the window. This is generally the quickest option, 
though most video cards will blur ("alpha blit") the stretched image, an
effect which some people don't like. 
"No Stretch" will make Steem draw the ST screen larger in order to avoid
stretching. 

WARNING: On some prehistoric video cards making the window size bigger than 
the real size (the first option) will slow down emulation considerably.

When automatic resizing is off you may find it difficult to get the window to 
a precise size, making ugly lines appear; to help there are some options on 
the main window's system menu (accessed by clicking on Steem's icon in its 
title bar). Normal size will resize the window to the size you have selected 
for the current ST screen resolution. Restore aspect ratio will maintain the 
current size of the window but will alter it so that its aspect ratio matches 
that of the selected size for the ST resolution. Also on this menu is Bigger 
and Smaller Window, they are a quick way to resize the window without going 
to the Options dialog, and border settings, which also affects the size of 
the window. 
As well as all that there's an "Always On Top" option that keeps the main 
Steem window above all others.


-Screenshots (DD)

These options configure where screenshots are saved. 

You may also choose the format options here.

The last option is "Minimum size screenshots", when checked this will make 
Steem always save screenshots at the smallest size possible for the 
resolution, this is handy for people taking screenshots to put on a website.
Warning: Sometimes this might make a mess as Steem will have to shrink the
picture, but this is never a problem if you are using Stretch mode for 
drawing (see the Fullscreen options and Display | Window Size options).
     
  
On Screen Display (OSD)
------------------------
 
The Steem OSD is there to look pretty and give information, it can be 
configured to suit your needs.


-Disk access light

This is a small light that appears in the top right of the screen, it 
emulates the light that was on the right hand side of a real ST, except that 
the led is green for reading, red for writing, yellow for hard disk. 


-Drive track info

Alternatively, this will display current drive, side, track and sector, like 
those devices some people had attached to their ST.


-Logo

You can configure how long the 'Steem SSE' logo will be displayed after you 
start emulation.


-Speed bar

The blue bar in the bottom-left corner indicates the current speed of the 
emulator compared to the refresh rate of the monitor on a real ST - if the 
bar is full it is drawing at the ST sync rate. 


-State icons

These little icons tell you whether the emulator is running, fast-forwarding, 
sound recording or just stopped.


-CPU speed indicator

This icon appears next to the speed bar when you have ST CPU Speed set to 
more than 8 megahertz.


-Scrolling messages

These messages pop up to delight and inform you, they have some useful tips 
for how to get the best out of Steem.


-Time

If you ever wonder how much time you waste on Steem, this is the control for
you. Mercifully it resets at each cold reset.


-Disable on screen display

This will disable all elements of the on screen display, it is useful if you 
are taking screenshots.   
      
  
Fullscreen Mode
----------------   

-Fullscreen GUI  
  
To enter fullscreen mode, click on the 'maximize' window control.

To leave fullscreen mode, click on the blue icon (second from the right) of 
the interface if 'Fullscreen GUI' option is checked; if not, stopping
emulation (using F12 or ctrl-break or a shortcut of your choice) will go 
back to your desktop.

Fullscreen GUI is handy if it works. No guarantee.
Blame Microsoft and video card driver coder for all bugs.

You may assign shortcuts to enter, exit, toggle fullscreen mode.


-Synchronisation (advanced)

When the PC and ST are displaying a different number of frames per second you 
can get jerkiness and wobbling that didn't appear on a real ST. Using these 
options you can hopefully put that right. Vsync to PC display tells Steem to 
wait for the PC to be ready before it displays its next frame. To make this 
option work better you should try and make the PC refresh rate the same or 
double the ST one. The ST used 50Hz (PAL), 60Hz (NTSC) and 72Hz (Mono). 
Hardware (video cards and monitors) that displays at 50Hz is now rare.


-Triple Buffering (advanced)

One more buffer is used in video rendering.
It doesn't seem to make a great difference.
It depends on the video card abilities, it could fail on some systems. 


-The other options depend on the build.


--Direct3D builds

If you have multiple screens, you may choose which one to use by
dragging Steem's window before hitting the 'maximize' button. 

Some options are available if Advanced Settings are enabled.
 
---Mode

This lists all D3D 32bit fullscreen "modes" that are available on
your video card. You just select the one you like.
Note that whether a mode works or not also depends on your display.
Only some monitors will display 320x200 or 320x240 properly.
On a LCD screen, you should go for the maximal resolution (the same as your
desktop). Steem will compute how to display the biggest possible ST screen
with a perfect aspect ratio (no distortion, whatever the hardware).

---Crisp rendering

You get neat but blocky pixels. Many people like it.
Don't use this in high resolution.

---Use desktop refresh rate

This will bypass the hz setting in Mode, using the current desktop refresh 
rate instead.
It can be useful if the video card (NVIDIA comes to mind) can force a refresh
rate that is not officially supported by the display (or its driver). 

---Windowed Borderless Mode

This 'fake' fullscreen mode bypasses most other settings. 
You lose the benefits of true fullscreen, such as triple buffering and
better performance (Steem isn't as demanding as a 3D game so no worry),
but it may be more compatible with a variety of computers.
It is the mode used by default.


--DirectDraw builds


---Drawing mode

This is a bit of a confusing option, you really don't need to know what the 
possible settings mean, but which is best will be different depending on your 
computer's hardware, try them all to see which is quickest. "Stretch blit" 
makes Steem draw small and then use the video card to stretch the resulting 
image to fill the screen. This can be slow on very old, bad video cards, and 
on many video cards it causes the image to be slightly blurred (alpha-blitted),
which makes it better resemble the bad televisions usually plugged 
into STs. If this blurring annoys you, switch to one of the other modes.

In the DirectDraw build, Steem uses 800x600 mode if borders are displayed,
640x480 if not.
A new draw mode in Steem SSE, 'Max Resolution', will use the display's 
maximal, "natural" (for LCD) resolution, while keeping the aspect ratio.
It's useful if other modes are distorted on your screen, but it won't 
necessarily look better otherwise. 

---Special effects

When you are in "Straight Blt" or "Screen Flip" drawing mode you can apply 
effects to Steem's display. "Scanline Grille" makes every other vertical line 
black, this can make the display a bit dark but it can also make Steem run 
quicker. 

---Use 256 colour mode

When checked this makes Steem use the 8-bit graphics mode -- this is faster 
but will not look good with very colourful games (for 8-bit mode the maximum 
is 118 colours on screen at any time, most ST programs only need 16). This 
option is very useful for high-res, because there are only 2 colours to 
display and using 65536 or more seems excessive. 
Note: 8bit mode is not generally available anymore in 2016, and in fact 
neither 16bit. 32bit is the norm. That's why previous versions of Steem can't 
run in fullscreen on many modern computers.

---Use 640x400

This option makes the screen switch to 640x400 pixels when you run in 
fullscreen. This means the ST display will fill the entire screen instead of 
having small borders to the top and bottom. You can only use 640x400 mode 
when borders are set to 'Off'.


Colour Control
---------------
  
Some PC monitors/video cards can be very dark, this can make the ST display 
unrealistic, or even make some things that should be visible black. Here are 
some simple options to fix this problem, just fiddle with the two values 
until in the colour bar display you can see colours above the number 2 and 
the colours above 15 and 16 are a different shade. Sometimes other colours on 
the screen can make this difficult, to get round that click on the image of 
the bars to make it fill the whole screen.
Steem SSE also includes controls for gamma correction, one slider per RGB
colour. 
Comparing with a CRT display, I couldn't confirm that Steem needs gamma
correction, but it's always a handy setting.
      
  
Profiles
---------   
  
Profiles allow you to store many different Steem configurations and use them 
when you like. To make a new file containing the current Steem configuration 
click on "Save New Profile". You can then restore it at any time by selecting 
it and clicking on "Load Profile". Be careful though as your configuration 
before you load a profile will be lost forever. Below "Load Profile" and 
"Save Over Profile" is a list of sections that affect loading profiles, you 
can enable or disable each section. This allows you to only load specific 
options in Steem and keep other options that you don't want changed. As in 
macros (see above) you can organise all your profiles using the profile 
folder display.   
      
  
Startup
--------   
  
You need to quit and restart Steem for those options to have effect.


-Restore Previous State

You can choose to have Steem remember the state of the ST when it quits, so 
you can return to what you were doing next time you run it. Below the option 
is a box where you can type in the filename that will be used to save the 
state, this file will be saved in the directory Steem.exe is in.

Hint: sometimes, auto.sts gets corrupted and makes Steem fail, possibly crash.
The solution is to delete auto.sts.


-Start in Fullscreen Mode

If DirectDraw is enabled and working then you can make Steem fill the whole 
screen when it first runs.


-Draw direct to video memory

To be able to display a picture on your monitor Steem has to get it to your 
video card's memory, it can do this in two ways. Firstly it can draw it 
direct to the video memory, it does that when this option is on. This is 
generally the fastest way to draw but on some set-ups it may cause problems 
if video card access is slow. With this option off Steem will draw to your 
PCs system memory, this is faster but at some point all the data will still 
have to be transferred to the video card. In older versions of Steem repeated 
accesses to video memory (to draw complex scanlines) could make it run about 
one fifth of the speed it should. Now when drawing direct to video memory 
Steem buffers complex scanlines to stop this problem, but you still may find 
it quicker to draw to system memory on your PC.


-Hide mouse pointer when blit

Some video cards can make a mess when the PC mouse pointer is over the Steem 
window, with this option on that will never happen as Steem hides the mouse 
before drawing to its window. This can however cause the PC mouse to flicker 
while Steem is running, if that is a problem try turning it off and see if 
your video card is one of the messy ones.


-Never Use Direct3D/DirectDraw/DirectSound

If you have DirectX errors when you boot up, or DirectX doesn't work 
properly, then you can tell Steem to not use it. Sound doesn't work without 
DirectSound and drawing is slower without DirectDraw. If you are having 
problems, it is best to install the latest version of DirectX through Windows 
Update.
 

Icons
------   
  
You can customise Steem's look by altering its icons. On this page you will 
see a box containing all the icons, just left click on one to be able to 
select an ico file to replace it with. Right clicking on an icon restores it
to its default, click on the "All Icons to Default" button to restore them 
all. You can also download icon schemes to change all or just some of Steem's 
icons with a single click on the "Load Icon Scheme" button, go to:

 http://steem.atari.st/icons.htm (link still working)

to see what is available.   
      
  
File Associations
------------------   
  
Windows programs love to associate and de-associate programs with file types. 
This dialog allows you to choose which files you want to associate with Steem. 
Just click the "Associate" button next to the desired files. 
Click again to de-associate.

Note: if you used a previous version of Steem, you must reassociate with the
current version (or rename the program 'Steem').
If you used a version before v.3.5.3, you should manually remove the
associations in the registry, HKEY_CLASSES_ROOT part.
This is because in newer versions, associations are recorded for each user,
in older versions, they were for the computer, and you needed "administrative
rights". 

Here you can also choose whether you want files to open in a new Steem 
window or the current Steem window when you double-click on them from 
Windows Explorer. 


SSE 
----

In Steem SSE, some options are grouped into a new page called "SSE".
Hopefully you'll recognise the icon.


-Advanced Settings (D3D)

Many settings are confusing for newbies and will be rarely used anyway.
So they are hidden by default, and enabled by this option.
When you uncheck the option, some advanced settings are reset to default
values. Those settings aren't changed back when you enable Advanced Settings
again.
There's also a button to reset everything. 


-Disk name

Displays the name of the current disk (in A:) in the status bar.
If this option isn't checked, Steem will display the type of image in
each drive instead (ST, MSA...).

     
-Hacks (advanced)
   
This option covers two kinds of things:
- Convenience hacks, like accelerating STE booting.
- Emulation hacks, when emulation isn't perfect yet we want the programs to
run. 
It is recommended to disable 'Hacks' only if you meet problems (and please
report).

  
-Emu detect (advanced)
   
Steem includes a facility to interact with ST programs that want to know
what kind of emulator is there. If you uncheck the option, this facility
is disabled.


-C1: 6850/6301/E-Clock (advanced)
   
Using code by Arne Riiber and doc by Stephane Catala - Belzebub / ST 
Connexion, Steem features low-level emulation of the HD6301 "intelligent
keyboard" (IKBD) chip since v3.4.
The main goal was to be able to run some (very rare!) demos reprogramming 
that chip without copying Hatari code, but it does more than that, being 
better than fake emu in some cases. When you change this option, you
normally should reset the ST.
In case you're curious, the demos that reprogram the chip are:
Dragonnels, Froggies over the Fence, Transbeauce 2.
All are available here:
http://ataristeven.exxoshost.co.uk/Steem_demos1.htm

The option also commands ACIA (the MC6850 chip) and E-Clock emulation 
improvements.
Both the IKBD and the MIDI connector use a 6850 to communicate with
the CPU, though at different speeds.
Communication between the 68000 and the 6850 uses the E-Clock of the 
microprocessor. 
In turn, the E-Clock also affects the timing of VBL and HBL interrupts.
So you see, changing this option has many consequences.

Why an option then? Emulation is more processor-intensive, you may prefer the
PC mouse feel to the ST's, and all those modifications could very well break
programs.
If the option isn't checked, Steem falls back on the same emulation as 
Steem 3.2 for all those chips.
     

-C2: 68901 (advanced)

This activates some MFP (aka MC68901, an important chip on the ST) emulation
improvements that are seldom needed and a bit risky, such as IACK and writing
latencies, IRQ latency, (especially) spurious interrupt, cycle-precise 
timers...


-Capture mouse
   
By default Steem grabs the mouse when running, even if you don't really need
it. 
You may use a keyboard shortcut to release the mouse. Key 'pause' is the
default.
This behaviour isn't always what you would want, so use the option to
change it. When it's unchecked, Steem will capture the mouse only when
you click in the window.


-VM-friendly mouse (advanced)

This option helps when Steem is run in a virtual machine (works with 
VirtualBox).
Another method is used to poll the mouse, and the cursor isn't limited to the
window frame. 
Some people actually prefer this way, even without a virtual machine.


-Fine tune CPU clock (advanced)

You may set the CPU clock in relation to the MFP's. Contrary to other Steem
speed options, this changes the CPU/MFP clock ratio.
It's an interesting and quite "dangerous" variable in emulation.
It may help some programs working, and will certainly break other programs.
When unchecked, default values are used.
In some cases, changing this variable is a "cheat", but in some cases it's
legit, as there was variation among STs.


Disk manager
_____________

This window controls all the disks on the ST, and the two boxes up the top 
hold the disks currently in the drives. 
This window is resizable.


-Disk Images

Disk images are floppy disks turned into files, this is how most programs are 
accessed on ST emulators. For details of how to create disk images from ST 
floppy disks have a look at the "disk image howto.txt" that comes with Steem.
You will find most images on the internet however.

The large box at the bottom of the disk manager window shows all the disk 
images in the current directory. The disk manager is like a little Explorer 
window, you can go into a folder by double clicking on it or by selecting it 
and pressing return. All disk image files, zip/rar/7z/bz2/gz/tar/arj archive
files and any Windows shortcuts to those types of files are shown. 

Note that Steem needs some DLL to handle archive files:
-unzipd32.dll for zip files (ArchiveAccess could handle them but there's
some incompatibility to investigate with MSA Converter)
-7z/bz2/gz/tar/arj: ArchiveAccess.dll (in the 64bit build, ArchiveAccess
manages zip files too).
-rar: unrar.dll.
Steem doesn't know if some archive contains an image or not, so all
archives are displayed regardless, but maybe clicking on them is useless.
It's up to you to sort your directories, of course. "Garbage in, garbage out."
This was my school's motto.

To insert a disk image into a drive, drag it to the box to the right of the 
big drive icon. To remove it from the drive just drag it back out to the 
directory view (or press Delete).

If you right click in the directory view a menu will pop up allowing you to 
create a new standard size disk image (ST), a custom size disk image (ST), 
a STW disk image or a HFE disk image. 

Custom disk images can be up to 2 megabytes in size, although larger ones 
are emulated correctly most TOS versions didn't support them, you 
may find they will only work with TOS 2.06 or maybe not at all.

ST disk images contain raw data bytes without any meta information (so
that emulators must guess the disk configuration, if it isn't correctly
written on the disk image).

STW and HFE disk images include clock bits as well as data, encoded into MFM
words.
Those STW and HFE images are more than twice larger than ST images but allow
to emulate the WD1772 disk controller at a lower level and so handle special
disk formats.
Because they're formatted inside the emulated ST, there's no sides/tracks/
sectors options. You get a raw disk full of random data, lucky you! It's up to
you to format the disk exactly as you would on a ST.
STW is the simplest such format. If you open a disk image in a hex editor,
you will find address marks coded as '$4489', a familiar number for some 
people.
HFE is optimised for the HxC floppy emulator hardware. It's quite handy if
you own such device.
Important: if you plan to write on STW or HFE disk images, better put the
drive in accurate disk access times mode.

Besides those ST, STW and HFE disk images Steem may create itself, it is also
able to handle:

-DIM and MSA images (read and write)
-STT images (read-only)
-STX images (read-only, need pasti.dll)
-IPF and CTR images created with Kryoflux hardware (read-only, need
CAPSImg.dll)
-SCP images created with Supercard Pro hardware (read-only)

A right click option allows you to convert DIM, MSA and ST images to STW.
Make sure both drives are empty when you do that to avoid any interferences.

About STX, IPF and CTR images, as they are handled by a third party plugin,
whether they work or not is also up to this plugin. Make sure you have the 
last version.

About SCP images, Steem typically only uses the first 2 revolutions and also 
works with only 1 rev, provided the image is good or doctored. 
It is very hard to get a perfect 1 rev copy, because common floppy drives 
are not accurate enough to perfectly replicate data around the index pulse.
Steem SSE directly handles those bit-level images, there's no plugin, so any 
bug should be fixed in Steem SSE itself. 
But compatibility was already very high at the introduction of the feature
(v3.7.1).
This is the triumph of low-level emulation. All sorts of disk protections are
handled just by transforming fluxes into bits using basic algorithms, without
knowing anything of the protection.
Those algorithms (part of the WD1772 emulation) were vaguely inspired by code
in MESS and SPS (formerly CAPS) projects.

STT is a Steem-specific format that is to be considered legacy. It is a sort
of "STX light".

If you right click in the box to the right of the big drive icon, a context 
menu allows you to toggle the read-only property (important for some games),
swap disks A and B (a keyboard shortcut can interfere with the game), remove
the disk, or go to where the disk is stored. 


Right clicking on a disk image displays a menu with a myriad of options to 
allow you to organise and use your disk images. "Get Contents" is useful if 
the disk image is a compilation disk, selecting it will display a list of 
what the disk contains. "MSA Converter" is a great program that allows you to 
edit the contents of a disk and convert it to a different format. 
"Properties" allows you to change the way Steem uses the disk, it is very 
unlikely you will have to change the setting from the default.

If you double click in some empty space of the main window, you go to the
parent folder of the current one.

If you don't want to use the Disk manager to select disk images, two shortcuts
are available to use Windows' classic file selector instead.


-Drive icons

Left-clicking on the B: drive icon disconnects drive B:.
By default Steem emulates an ST with an external drive attached, this is 
usually very useful. Unfortunately, most STs only had one drive and some 
programs will get confused when there are two. 
It is usually a good idea to reset after you change this option as the ST
might still think there is a drive B when really there isn't.

Right-clicking on the drive icons opens a context menu with some "useful"
options to:
Stop the motor (if it's running you crazy)
Change the 'SEEK' sound (if it's running you crazy).
Turn your fine SF314 double sided drive into a miserable SF354 single sided
drive (if you were unlucky back then and feel really nostalgic).
Select the side of the disk as if you were using a 'freeboot' switch.


-GEMDOS Hard Drives

Another handy button on the disk manager is the GEMDOS Hard Drives button.
It opens the hard drive manager. You can have up to 10 virtual hard drives.
To set one up select the folder on your PC and then select the letter that
you want it to be on the ST. 
Those virtual drives are called GEMDOS drives because they're based on 
interception of GEMDOS commands.
You need to know that this type of emulation is very convenient for you, 
because you just use your PC hard drive, but it is based on hacks, and in some
cases it could not work as on a real Atari. 
For serious work we really advise to use TOS 1.04, TOS 1.62, EmuTOS or to use
an ACSI hard disk image (see below).
Hard drives aren't as reliable as disk images, most things will work but not
everything. If a program isn't working properly copy it to a disk image
(using the ST desktop) to see if that helps. Another option in this box is to
choose which hard drive to boot from if floppy drive A is empty. You can force
Steem to boot from a hard drive even when drive A contains a disk by holding
down the CONTROL key when you run after performing a cold reset of the ST.

Right-clicking on this icon will toggle GEMDOS hard drives on/off.


-ACSI Hard Drives

Steem SSE features another icon for ACSI hard drives. 
Right-clicking on this icon will toggle ACSI hard drives on/off.
They are img files and contain all sectors of an Atari hard disk (data only,
like a ST floppy disk image).
Using those files allows lower-level emulation of hard disks in Steem.

ACSI (Atari Computer Systems Interface) was the SCSI-like interface between
the ST and a hard disk or a laser printer (not emulated).
The feature was already available with Pasti, but with some limitations.
With Steem's native ACSI emulation, up to 4 virtual ACSI hard drives may be
added.
Note that unlike GEMDOS hard drives, each ACSI device may be split into
several partitions (C:, D:...).
The driver you use must be able to handle each of those drives (Atari AHDI
is fine).

Two ready examples are provided in the download, images of the familiar
SH204 and MEGAFILE 60.
The size limit is 1GB.

It is also possible to enable GEMDOS virtual hard disks at the same
time as ACSI virtual hard disks, you need to adapt letters of course.
ACSI drives will take the first letters.
It's handy to copy files.
Transfer speed depends on Disk manager 'Accurate Disk Access Times' option,
but even when it's not checked, the ST operates slowly compared with a PC.

It is even possible to format those disk images inside Steem (for advanced
users).
A floppy disk image with necessary utilities is available here, so you can
see with what I actually pass time:
http://ataristeven.exxoshost.co.uk/Steem_apps.htm#HD_UTILS

More importantly, you can use a 3rd party file manager to edit ST hard 
disk images, 'Drive image' by Petari:
http://atari.8bitchip.info/drimus.php 

Note that some programs will work with a GEMDOS hard drive but not with an
ACSI one, sometimes depending on the driver. AFAIK it's correct emulation.


-Home Folder

The disk manager allows you to select a home folder. This is where all your 
disks or shortcuts to disks should be stored. You can go to your home folder 
at any time by clicking the third button from the left in the disk manager
window. 
If you are away from your home folder you can quickly move/copy/create 
shortcuts to disks in your home folder by right mouse button dragging them to 
the home button. The button to the right of the home folder button sets the 
current folder as your home folder. Right clicking on the home button and the 
set-home button brings up menus allowing you to go to/set 10 quick-folder
links.

To the right of the set-home button is a the disk manager options button, it 
brings up a menu with the following choices:


-Accurate Disk Access Times (Slow)

Floppy disk drives are slow, horribly tediously slow, so by default Steem 
does away with the waits and emulates disk access at impossibly high speed. 
Unfortunately, some ST software uses, ahem, colourful ways of accessing the 
STs floppy disk controller that only work if the disk access is horribly, 
tediously slow. So that is the reason for this option, but don't leave it on 
all the time or you will surely go insane!
Though the 'Drive sound' and 'Drive track info' options may make this ordeal
more bearable, as you can see and hear what the drive is doing, you don't get
the feeling the emulator is stuck. It's emulated the way it was.
The option doesn't operate with CTR, IPF and SCP images, but it does with ST, 
MSA, DIM, HFE and STW images. Some disks won't load without accurate timings.
Speed for STX images is set in 'Pasti configuration'.
The option also works on ACSI hard drives (but not GEMDOS).


-Read/Write Archives (Changes Lost On Eject)

To access disk images in archives (ZIP or RAR files) Steem extracts them to a 
temporary file and uses that like a normal disk image file. Unfortunately 
re-archiving the temporary file is very difficult, Steem can't do it. 
Besides, modifying an archive is questionable, maybe we just shouldn't.
Because of this by default all disk images in archives are treated as
read-only, so they can't be changed. 
By turning on this option you can make Steem allow writes to the temporary
file, but any changes will get lost when the temporary file is deleted
(the disk is ejected). 
Some ST programs require their disk to be read/write, this option will 
allow you to run them without having to extract them.


-Pasti options

Pasti, by Jorge Cwik (ijor at http://www.atari-forum.com), is the way to use
the STX floppy disk format in Steem.
This format allows emulation of original (protected) floppy disks of yore. 
Try to use the last version of the plugin.

--Use Pasti for all floppies and ACSI (advanced)

This will use Pasti to run ST and MSA images, as well as allow Pasti to
handle ACSI disk images. 
You don't need to check this option to run STX images.

--Configuration

It opens a dialog box managed by pasti.dll.
It is recommended to set all 'speed' options to 'slow' for precise emulation,
which is what you should expect of STX images.


-Enable ghost disks for protected disks (advanced)

Check this option to harmlessly save hiscore with CTR/IPF/STX/SCP disk images.
STG files are automatically created when the game tries to save data on
the disk, leaving your image file untouched. 
The image may be in an archive.

STG files are simple and compact collections of sectors, only those
that have been changed.
The feature may interfere with some programs, in that case you only need to 
disable the option.
If needed, this could be improved, but as nobody reports anything...
 
Specification of STG files:
http://ataristeven.exxoshost.co.uk/txt/STG%20specification.txt
      

-Run PRG and TOS files

This enables direct support of PRG and TOS files.
To run standlaone PRG or TOS files, you need to set up a Z: hard drive that
points to a PRG folder, preloaded with a DESKTOP.INF file and an AUTO folder.
It is part of Steem 3.7 download, so if you extracted all files, it is ready.
Steem will copy the file in this folder (always under the same name, so don't 
worry about space waste).
This should work with files inside archives.
The main limitation is that it only handles single files. If the PRG needs a
data file, it won't work.
Also some programs just aren't meant to work that way.
In this case they should be run from a floppy or hard disk.


-Automatically Insert Second Disk

Lots of games come on two disks, if this option is on when inserting a disk 
into drive A Steem will look for a second disk image with a similar name and 
insert it into drive B.
Note that even if Steem manages to insert the second disk in drive B:, the
game may still require a disk swap in drive A:. Many games had only one drive
in mind unfortunately. The same for demos.


-Hide Broken Shortcuts

This option hides shortcuts that point to a file that doesn't exist. If you 
show these shortcuts then you can right click on them and select Fix Shortcut 
to allow Windows to search for the target file. You may want to check this if 
you have many broken shortcuts that are going to stay broken to speed up 
displaying of their folders.


-Eject Disks When Quit

This makes Steem eject all the disks from the drives when you quit.


-Double Click Action

This allows you to configure what happens when you double click the left 
mouse button on a disk image (or a shortcut to a disk image). By default 
doing this will insert the disk into drive A, reset the ST and then run.
The same effect is assigned to the 'Enter' key.


-Close Disk Manager After Insert, Reset and Run

If you don't like the disk manager open when you run a game, give this a go.


-Hide Extension

By default, extensions are hidden.


-Icon Size and Icon Spacing

Save space with small icons, see more clearly with larger spaces.



Next to disk manager options is the disk image management tools button, it 
brings up a menu with the following options:


-Search Disk Image Database

Steem uses the great disk image database created and maintained by Keili to 
be able to recognise disk images. Using this option you can search for a 
program to find out what disk images contain it. To download the disks have a 
look at Steem's comprehensive links in the General Info dialog.


-Open Current Folder in Explorer

Opens the folder the disk manager is looking at in Windows Explorer.


-Folders Pane in Explorer

When checked causes the folders pane to appear when you open a folder in 
Explorer.


-Find in Current Folder

Opens a Windows find dialog with the "Look in" directory set to the current 
folder, useful if you have a large number of disks in many folders and you 
want to find one quickly.


-Run MSA Converter

This loads the MSA Converter program that can be used to edit disk images.
It needs to be there, of course.


Command-line options
_____________________
   
Here are some useful command line options for Steem. The easiest way to run 
Steem with them is to make a shortcut to Steem.exe, right click on it and 
select Properties. In the text box labelled Target add the command line 
options on the end (after the " if there is one).
This is also how a frontend will launch Steem.
Don't add - before the options.

 NODD, GDI - don't use DirectDraw.

 NODS, NOSOUND - don't use DirectSound.

 .st, .msa, .stt, .dim, .stx, .ctr, .ipf, .scp, .stw, .hfe, .zip, .rar, .7z,
 .stz file - load disk & go. 
If two disks are passed then the first will go in drive A and the second will
be in drive B. Autoinsert second disk won't work.

 .prg, .tos: same as disk but those are individual ST files. 

 .sts file - load snapshot & go.

 .stc file - insert specified cartridge.

 NONEW - means that if one of the above files is passed to Steem and a Steem 
window is already open it will be opened in the current Steem and not in a 
new window.

 OPENNEW - means the opposite of NONEW, the files will always be opened in a 
new Steem window.

 NOLPT - this removes the option to connect an ST port to your PC's LPT ports 
(that option can cause a crash on some versions of Windows).

 NOCOM - this removes the option to connect an ST port to your PC's COM ports.

 INI=[filename] - load [filename] instead of steem.ini.

 TRANS=[filename] - use [filename] as translation file.

 SOF=[freq] - stands for Sound Output Frequency. Output will be forced to 
[freq]Hz and all other factors will be ignored (unless setting the sound card 
output to [freq]Hz fails, in that case Steem will ignore this option and use 
its usual method of determining output frequency).

 WINDOW - force Steem to boot in windowed mode.

 FULLSCREEN - force Steem to boot in fullscreen mode.

 DOUBLECHECKSHORTCUTS - this makes Steem's disk manager check shortcut files 
more thoroughly, some people have had problems when a shortcut's target file 
name is in a different case to the actual file. This option makes the disk 
manager slower to display folders with shortcuts in them.

 SCLICK - this option makes Steem output a click when you run and stop 
instead of a bump.

 NOPCJOYSTICKS - don't look for any PC joysticks, sometimes joystick drivers 
do some weird things!

 OLDPORTIO - we changed how I/O to LPT and COM ports worked in v2.4, if you
are using Win9x/ME then you can use this switch if it doesn't work any more.

 SCREENSHOT[=path] - this tells the currently open Steem to take a screenshot. 
If no Steem is open then it won't do anything.

 ALLOWREADOPEN - this command line option makes Steem open hard drive files 
as read only. TOS has a bug in it that allows programs that open files for 
read to write to them, most versions of Windows and all versions of Linux 
don't allow it. Steem gets round this by opening all files as read and write. 
This works well except in circumstances when another Windows program is 
accessing the same file. If you want to do that then use this command line 
option to open the file as read-only.

 SCREENSHOTUSEFULLNAME - this makes Steem use the full disk name as the 
screenshot name, rather than just the first word.

 NONOTIFYINIT - disable the "Steem is Initialising" box.

 STFMBORDER - if it is not overruled by the saved options or memory snapshot,
this makes Steem SSE start as a STF.

 NOTRACE - Steem won't create a TRACE.txt with debugging info.


INI file options
_________________

Those options are inside the steem.ini file to avoid bloating the emulator
interface (GUI) itself.
They were mostly requested for special needs.


- DefaultSnapshot

You can define a shortcut, called "Load Default Memory Snapshot", that will 
load the memory snapshot you specify in the [main] part of steem.ini,
for example:

DefaultSnapshot=[path to Steem]\memory snapshots\mysupergame.sts


- WindowTitle

You can change the name that is displayed as window title and in the task bar
by adding a line in the [main] part of steem.ini, for example:

WindowTitle=Steem SSE teh best

It is useful if you mean to run several specialised instances, each in its
own folder.
Limitation: mustn't be longer than 20 characters.


- TosDefaultCountry

When you use the ST Model switch, Steem SSE tries to preselect a matching TOS.
This option allows you to specify a country code if you're not happy with the
UK.
For example, type
TosDefaultCountry=5
in the [main] part of steem.ini for French.

Country TOS table

0: US
3: German
5: French
7: UK
9: Spanish
11: Italian
13: Swedish
17: Swiss German
27: Dutch
39: Russian


- MonochromeDisableBorder

If you add this line in the [main] part of steem.ini:

MonochromeDisableBorder=1

Borders will be off in monochrome mode, except if you switch them on after
the cold reset.


Debugging info
_______________

Unless the NOTRACE argument is specified, Steem SSE saves a log called
TRACE.txt in its running directory each time it is stopped. 
It is overwritten at each cold reset (except in the Boiler, there's a
setting).

Abbreviations:

DD    DirectDraw
D3D   Direct3D
HP    High Priority 
ATS   Allow Task Switch
PWI   Pause When Inactive
FAFF  Fast Forward on Floppy Access
SEOC  Start Emu On Click
ALSS  Auto Load SnapShot
Mem   Use Video Ram
BHM   Hide Mouse on Blit
DX    DirectX
YM    YM-2149 (Sampled Mame-like)
WM    window mode (display size)
FS    fullscreen

Sometimes, Steem must close because of a fatal error. To help reporting,
an alert box describes the error. The message is also copied to the clipboard
and, normally, in the TRACE file.
